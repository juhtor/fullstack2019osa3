{"version":3,"sources":["components/Header.js","components/Person.js","components/Persons.js","components/AddNewPersonForm.js","components/FilterForm.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Header","_ref","title","react_default","a","createElement","Person","person","removePerson","name","number","onClick","Persons","persons","components_Header","map","components_Person","key","id","AddNewPersonForm","newName","newNumber","handleNumberChange","handleNameChange","addPerson","onSubmit","value","onChange","type","FilterForm","newFilter","handleFilterChange","baseUrl","services_persons","newObject","axios","post","then","response","data","put","concat","delete","Notification","message","className","Error","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","useEffect","get","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","notificationMessage","setNotificationMessage","showNotification","setTimeout","showError","filteredPersons","filter","toLowerCase","includes","components_Notification","components_Error","components_FilterForm","event","target","components_AddNewPersonForm","preventDefault","personObject","index","indexOf","window","confirm","personService","returnedPerson","newPersons","catch","error","n","components_Persons","console","log","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fb76e643.chunk.js","sourcesContent":["import React from 'react'\n\nconst Header = ({ title }) => {\n    return (<h2>{title}</h2>)\n}\n\n\nexport default Header","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={removePerson}>poista</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Header from './Header'\nimport Person from './Person'\n\nconst Persons = ({ persons, removePerson }) => {\n    return (\n        <div>\n            <Header title='Numerot' />\n            {persons.map(person => <Person person={person}\n                key={person.id}\n                removePerson={removePerson(person.id)} />\n            )}\n        </div>\n    )\n}\n\n\nexport default Persons","import React from 'react'\nimport Header from './Header'\n\nconst AddNewPersonForm = ({ newName, newNumber, handleNumberChange,\n    handleNameChange, addPerson }) => {\n    return (\n        <div>\n            <Header title='Lisää uusi' />\n            <form onSubmit={addPerson}>\n                <input\n                    value={newName}\n                    onChange={handleNameChange}\n                />\n                <br />\n                <input\n                    value={newNumber}\n                    onChange={handleNumberChange}\n                />\n                <br />\n                <button type=\"submit\">tallenna</button>\n            </form>\n        </div>\n    )\n}\n\nexport default AddNewPersonForm","import React from 'react'\nimport Header from './Header'\n\nconst FilterForm = ({ newFilter, handleFilterChange }) => {\n    return (\n        <div>\n            <Header title='Rajaa hakua' />\n            <form >\n                <input\n                    value={newFilter}\n                    onChange={handleFilterChange}\n                />\n            </form>\n        </div>\n    )\n}\n\nexport default FilterForm","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Persons from './components/Persons'\nimport AddNewPersonForm from './components/AddNewPersonForm'\nimport FilterForm from './components/FilterForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    useEffect(() => {\n        axios\n            .get('http://localhost:3001/api/persons')\n            .then(response => {\n                setPersons(response.data)\n            })\n    }, [])\n\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [notificationMessage, setNotificationMessage] = useState(null)\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n        setNewFilter(event.target.value)\n    }\n    const showNotification = (message) => {\n        setNotificationMessage(message)\n        setTimeout(() => {\n            setNotificationMessage(null)\n        }, 7000)\n    }\n    const showError = (message) => {\n        setErrorMessage(message)\n        setTimeout(() => {\n            setErrorMessage(null)\n        }, 7000)\n    }\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber,\n        }\n        const names = persons.map(person => person.name)\n        const index = names.indexOf(newName)\n        if (index >= 0) {\n            if (!window.confirm(newName +\n                ' on jo luettelossa. Korvataanko vanha numero uudella?')) {\n                return\n            }\n            const id = persons[index].id\n            personService\n                .update(id, personObject)\n                .then(returnedPerson => {\n                    let newPersons = persons\n                    newPersons[index] = returnedPerson\n                    // setPersons(persons.filter(n => n.id !== id).concat(returnedPerson))\n                    setPersons(newPersons)\n                    showNotification('Korvattiin henkilö ' + newName\n                        + ' numero uudella numerolla ' + newNumber)\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .catch(error => {\n                    showError(`Henkilö '${newName}' oli jo poistettu palvelimelta`)\n                    setPersons(persons.filter(n => n.id !== id))\n                })\n            return\n        }\n\n\n        personService\n            .create(personObject)\n            .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson))\n                showNotification('Lisättiin ' + newName)\n                setNewName('')\n                setNewNumber('')\n\n            })\n    }\n\n    const removePerson = (id) => {\n        return () => {\n            const name = persons.filter(n => n.id === id)[0].name\n            if (!window.confirm('Poistetaanko ' + name)) {\n                return\n            }\n            console.log('remove person with id ', id)\n            personService\n                .remove(id)\n                .then(returnedPerson => {\n                    console.log('person removed')\n                    showNotification(name + ' poistettiin')\n                    setPersons(persons.filter(n => n.id !== id))\n                })\n                .catch(error => {\n                    showError(`Henkilö '${name}' oli jo poistettu palvelimelta`)\n                    setPersons(persons.filter(n => n.id !== id))\n                })\n        }\n    }\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n    return (\n        <div>\n            <h1>Puhelinluettelo</h1>\n            <Notification message={notificationMessage} />\n            <Error message={errorMessage} />\n            <FilterForm handleFilterChange={handleFilterChange}\n                newFilter={newFilter} />\n            <AddNewPersonForm handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n                addPerson={addPerson} />\n            <Persons\n                persons={filteredPersons}\n                removePerson={removePerson} />\n        </div>\n    )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}